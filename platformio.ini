[platformio]
src_dir = .
include_dir = simulator/include
lib_dir = simulator/lib

[env:emulator]
platform = native
lib_deps = 
	lvgl/lvgl@^8.4.0
	lvgl/lv_drivers@^8.3.0
build_src_filter = 
	+<simulator/src/>
	+<esp/ui/>
build_flags = 
	-lSDL2
	-D USE_SDL
	-D LV_CONF_INCLUDE_SIMPLE
	-D LV_LVGL_H_INCLUDE_SIMPLE
	; The -I flag below is required because include_dir only affects main source compilation,
	; but libraries (lvgl, lv_drivers) are compiled separately and need access to lv_conf.h
	; in simulator/include/. Without this, library C files can't find configuration headers.
	-I simulator/include
	-I esp/ui
